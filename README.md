## 背景

前端项目越来越大， 需要更加集中自治管理。当前搭建项目越来越复杂，需要以下几种能力：
- Vue 前端项目管理：用于主前端项目开发
- npm 包：组件包、搭建基础核心包、渲染包、搭建 CLI；等需要提供给业务方使用
- server 端：搭建方向需要 server 端能力承载（可无），若有，部署的时候需要先部署server 端变更
- 模块管理：package 与 package 之前的模块可以互相使用，且能单独打包
- 协作规范：lint 规范、pretty 规范、TypeScript 规范（不作为避免项），但每个 packages 尽量统一
- 工程构建：每个 repo 可选定自己的工程工具链，但使用时命令直观
- 部署发布：部署和发布可单独执行命令，相关依赖同时都会发布和部署（方便在内网执行）
- CICD：可有可无
- 渐进性：Vue3.0 或构建工具等其他新型技术渐进性迭代

基于上述的能力诉求，希望找到一种比较合理的组织和管理项目的方式。 

## 原则

### 包管理

包管理使用 yarn, 公司推荐使用. pnpm 在跨容器 docker(多机)部署的时候有一些奇怪的问题. 暂时忽略

### 多 package 管理工具

多个 package 的时候需要收归管理

**添加本地包**

lerna add @test/pkg1 --scoope=client

### 代码规范

### 包发布

不支持单个或指定多个包发布, 只能自己手动去发.

### 发布与部署

项目 clone: 能把单个项目 clone 下来然后部署最好了
支持单项目发布与部署

## 实践

### lerna + yarn 

分支: lerna-yarn
参考: 参考 [阿里系的搭建项目 designable](https://github.com/alibaba/designable)的工程架构
描述: 此方案虽土, 不时髦, 且官网也不更新了, 但好多开源项目都用的这种方式




